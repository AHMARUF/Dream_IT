var ParallaxScroll={showLogs:!1,round:1e3,requestAnimationFrame_ID:"",init:function(){if(this._log("init"),this._inited)return this._log("Already Inited"),void(this._inited=!0);this._requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a,e){window.setTimeout(a,1e3/60)},this._onScroll(!0)},destroy:function(){"undefined"!=typeof requestAnimationFrame_ID&&window.cancelAnimationFrame(requestAnimationFrame_ID)},clearData:function(a){jQuery(a).removeData()},_inited:!1,_properties:["x","y","z","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ","scale"],_requestAnimationFrame:null,_log:function(a){this.showLogs&&console.log("Parallax Scroll / "+a)},_onScroll:function(a){var e=jQuery(document).scrollTop(),t=jQuery(window).height();this._log("onScroll "+e),jQuery("[data-parallax]").each(jQuery.proxy(function(r,n){var l=jQuery(n),s=[],i=!1,o=l.data("style");null==o&&(o=l.attr("style")||"",l.data("style",o));var u,c=[l.data("parallax")];for(u=2;l.data("parallax"+u);u++)c.push(l.data("parallax"+u));var d=c.length;for(u=0;u<d;u++){var m=c[u],h=m["from-scroll"];null==h&&(h=Math.max(0,jQuery(n).offset().top-t)),h|=0;var y=m.distance,p=m["to-scroll"];null==y&&null==p&&(y=t),y=Math.max(0|y,1);var v=m.easing,w=m["easing-return"];if(null!=v&&jQuery.easing&&jQuery.easing[v]||(v=null),null!=w&&jQuery.easing&&jQuery.easing[w]||(w=v),v){var _=m.duration;null==_&&(_=y),_=Math.max(0|_,1);var f=m["duration-return"];null==f&&(f=_),y=1;var g=l.data("current-time");null==g&&(g=0)}null==p&&(p=h+y),p|=0;var x=m.smoothness;null==x&&(x=30),x|=0,(a||0==x)&&(x=1),x|=0;var A=e;A=Math.max(A,h),A=Math.min(A,p),v&&(null==l.data("sens")&&l.data("sens","back"),A>h&&("back"==l.data("sens")?(g=1,l.data("sens","go")):g++),A<p&&("go"==l.data("sens")?(g=1,l.data("sens","back")):g++),a&&(g=_),l.data("current-time",g)),this._properties.map(jQuery.proxy(function(a){var e=0,t=m[a];if(null!=t){"scale"==a||"scaleX"==a||"scaleY"==a||"scaleZ"==a?e=1:t|=0;var r=l.data("_"+a);null==r&&(r=e);var n=(A-h)/(p-h)*(t-e)+e,o=r+(n-r)/x;if(v&&g>0&&g<=_){var u=e;"back"==l.data("sens")&&(u=t,t=-t,v=w,_=f),o=jQuery.easing[v](null,g,u,t,_)}(o=Math.ceil(o*this.round)/this.round)==r&&n==t&&(o=t),s[a]||(s[a]=0),s[a]+=o,r!=s[a]&&(l.data("_"+a,s[a]),i=!0)}},this))}if(i){if(null!=s.z){var F=m.perspective;null==F&&(F=800);var j=l.parent();j.data("style")||j.data("style",j.attr("style")||""),j.attr("style","perspective:"+F+"px; -webkit-perspective:"+F+"px;")}null==s.scaleX&&(s.scaleX=1),null==s.scaleY&&(s.scaleY=1),null==s.scaleZ&&(s.scaleZ=1),null!=s.scale&&(s.scaleX*=s.scale,s.scaleY*=s.scale,s.scaleZ*=s.scale);var q="translate3d("+(s.x?s.x:0)+"px, "+(s.y?s.y:0)+"px, "+(s.z?s.z:0)+"px)"+" "+("rotateX("+(s.rotateX?s.rotateX:0)+"deg) rotateY("+(s.rotateY?s.rotateY:0)+"deg) rotateZ("+(s.rotateZ?s.rotateZ:0)+"deg)")+" "+("scaleX("+s.scaleX+") scaleY("+s.scaleY+") scaleZ("+s.scaleZ+")")+";";this._log(q),l.attr("style","transform:"+q+" -webkit-transform:"+q+" "+o)}},this)),window.requestAnimationFrame?requestAnimationFrame_ID=window.requestAnimationFrame(jQuery.proxy(this._onScroll,this,!1)):requestAnimationFrame_ID=this._requestAnimationFrame(jQuery.proxy(this._onScroll,this,!1))}};