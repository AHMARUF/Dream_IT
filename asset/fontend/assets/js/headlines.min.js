!function(a){a.fn.zanayaAnimatedHeadlines=function(){return this.each(function(){var s=a(this),e=s.find(".zanaya-words-wrapper").attr("data-rotate-delay");void 0!=e&&""!=e&&"default"!=e||(e=2500);var n,t=e,r=t-3e3,d=50,l=150,o=500,h=o+800,c=600,p=e;function f(s){var i=v(s);if(s.parents(".zanaya-headline").hasClass("type")){var n=s.parent(".zanaya-words-wrapper");n.addClass("selected").removeClass("waiting"),setTimeout(function(){n.removeClass("selected"),s.removeClass("is-visible").addClass("is-hidden").children("i").removeClass("in").addClass("out")},o),setTimeout(function(){u(i,l)},h)}else if(s.parents(".zanaya-headline").hasClass("letters")){var p=s.children("i").length>=i.children("i").length;!function s(i,n,t,r){i.removeClass("in").addClass("out");i.is(":last-child")?t&&setTimeout(function(){f(v(n))},e):setTimeout(function(){s(i.next(),n,t,r)},r);if(i.is(":last-child")&&a("html").hasClass("no-csstransitions")){var d=v(n);w(n,d)}}(s.find("i").eq(0),s,p,d),C(i.find("i").eq(0),i,p,d)}else s.parents(".zanaya-headline").hasClass("clip")?s.parents(".zanaya-words-wrapper").animate({width:"2px"},c,function(){w(s,i),u(i)}):s.parents(".zanaya-headline").hasClass("loading-bar")?(s.parents(".zanaya-words-wrapper").removeClass("is-loading"),w(s,i),setTimeout(function(){f(i)},t),setTimeout(function(){s.parents(".zanaya-words-wrapper").addClass("is-loading")},r)):(w(s,i),setTimeout(function(){f(i)},e))}function u(a,s){a.parents(".zanaya-headline").hasClass("type")?(C(a.find("i").eq(0),a,!1,s),a.addClass("is-visible").removeClass("is-hidden")):a.parents(".zanaya-headline").hasClass("clip")&&a.parents(".zanaya-words-wrapper").animate({width:a.width()+10},c,function(){setTimeout(function(){f(a)},p)})}function C(a,s,i,n){a.addClass("in").removeClass("out"),a.is(":last-child")?(s.parents(".zanaya-headline").hasClass("type")&&setTimeout(function(){s.parents(".zanaya-words-wrapper").addClass("waiting")},200),i||setTimeout(function(){f(s)},e)):setTimeout(function(){C(a.next(),s,i,n)},n)}function v(a){return a.is(":last-child")?a.parent().children().eq(0):a.next()}function w(a,s){a.removeClass("is-visible").addClass("is-hidden"),s.removeClass("is-hidden").addClass("is-visible")}s.find("[data-rotate]").each(function(){for(var s=a(this).data("rotate").split(","),i=s.length-1;i>=0;i--)a(this).append("<b "+(0==i?'class="is-visible"':"")+">"+s[i]+"</b>")}),s.parent().find(".letters").find("b").each(function(){var s=a(this),e=s.text().split(""),n=s.hasClass("is-visible");for(i in e)s.parents(".rotate-2").length>0&&(e[i]="<em>"+e[i]+"</em>"),e[i]=n?'<i class="in">'+e[i]+"</i>":"<i>"+e[i]+"</i>";var t=e.join("");s.html(t).css("opacity",1)}),n=e,s.each(function(){var s=a(this);if(s.hasClass("loading-bar"))n=t,setTimeout(function(){s.find(".zanaya-words-wrapper").addClass("is-loading")},r);else if(s.hasClass("clip")){var i=s.find(".zanaya-words-wrapper"),e=i.width()+30;i.css("width",e)}else if(!s.hasClass("type")){var d=s.find(".zanaya-words-wrapper b"),l=0;d.each(function(){var s=a(this).width();s>l&&(l=s)}),s.find(".zanaya-words-wrapper").css("width",l)}setTimeout(function(){f(s.find(".is-visible").eq(0))},n)})})}}(jQuery);