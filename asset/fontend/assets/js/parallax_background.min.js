!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var i,o,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();i=jQuery,o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.settings=i.extend(!0,{event:"scroll",animation_type:"shift",zoom:20,rotate_perspective:1400,animate_duration:1,ignore_z_index:!1,gyroscope_event:!0},n),this.$element=i(t),this.$element_inner=this.$element.find(".parallax-inner"),this.data_options=this.$element.data("parallax-background"),this.settings=i.extend(!0,this.settings,this.data_options),this.inner_size=this.settings.zoom+100,this.coef=this.inner_size/100,this.shift=this.settings.zoom/2/this.coef,this.device_orientation="",this.viewport_top=0,this.viewport_bottom=0,this.init()}return r(e,[{key:"init",value:function(){if("undefined"!=typeof TweenLite)if("undefined"!=typeof CSSPlugin){var e=this;e.set_elements_styles(),e.update_window_size(),e.update_orientation(),i(window).on("resize",function(){e.update_window_size(),e.update_orientation()}),"scroll"==e.settings.event&&(e.update_viewports(),i(window).on("scroll",function(){e.update_viewports()})),"scroll"==e.settings.event?e.subscribe_scroll_event():"mouse_move"==e.settings.event&&e.subscribe_mouse_move_event(),e.settings.gyroscope_event&&e.subscribe_gyro_event()}else console.warn("CSSPlugin in required... https://greensock.com/CSSPlugin");else console.warn("TweenMax or TweenLite library is required... https://greensock.com/tweenlite")}},{key:"update_window_size",value:function(){this.ww=window.innerWidth,this.wh=window.innerHeight}},{key:"update_viewports",value:function(){this.viewport_top=i(window).scrollTop(),this.viewport_bottom=this.viewport_top+this.wh}},{key:"set_elements_styles",value:function(){this.$element.css({overflow:"hidden"}),this.$element_inner.css({top:-this.settings.zoom/2+"%",left:-this.settings.zoom/2+"%",height:this.inner_size+"%",width:this.inner_size+"%",position:"absolute"}),"rotate"==this.settings.animation_type&&(TweenLite.set(this.$element,{perspective:this.settings.rotate_perspective}),TweenLite.set(this.$element_inner,{transformStyle:"preserve-3d"}))}},{key:"update_orientation",value:function(){this.ww>this.wh?this.device_orientation="landscape":this.device_orientation="portrait"}},{key:"subscribe_gyro_event",value:function(){var e=this,t=0,n=0,i=0,o=0;window.addEventListener("deviceorientation",function(s){var r=Math.round(s.gamma),a=Math.round(s.beta),u=0,l=0;r>t&&i<15?i++:r<t&&i>-15&&i--,a>n&&o<15?o++:a<n&&o>-15&&o--,t=r,n=a;var c=100/15*i,_=100/15*o;"landscape"==e.device_orientation?(u=e.shift/e.coef/100*_,l=e.shift/e.coef/100*c):(u=e.shift/e.coef/100*c,l=e.shift/e.coef/100*_*-1),"shift"==e.settings.animation_type?TweenLite.to(e.$element_inner,e.settings.animate_duration,{x:l+"%",y:u+"%"}):"rotate"==e.settings.animation_type&&TweenLite.to(e.$element_inner,e.settings.animate_duration,{rotationX:-l+"%",rotationY:-u+"%"})},!0)}},{key:"get_cursor_shift_by_element",value:function(e,t,n){var i=e.offset(),o=e.outerWidth(),s=e.outerHeight(),r=(t-i.left-.5*e.width())/o*2,a=(n-i.top-.5*e.height())/s*2;return{x:this.shift*r,y:this.shift*a}}},{key:"is_cursor_on_element",value:function(e,t,n){var i=e.offset(),o=i.top,s=i.left,r=s+e.outerWidth(),a=o+e.outerHeight();return t>s&&t<r&&n>o&&n<a}},{key:"subscribe_mouse_move_event",value:function(){var e=this;if(e.settings.ignore_z_index){var t=!1;i(document).on("mousemove",function(i){if(e.is_cursor_on_element(e.$element,i.pageX,i.pageY)){var s=e.get_cursor_shift_by_element(e.$element,i.pageX,i.pageY,!0);o(s.x,s.y),t=!0}else t&&(n(),t=!1)})}else e.$element.on("mousemove",function(t){var n=e.get_cursor_shift_by_element(e.$element,t.pageX,t.pageY,!0);o(n.x,n.y)}),e.$element.mouseleave(function(){n()});function n(){"shift"==e.settings.animation_type?TweenLite.to(e.$element_inner,e.settings.animate_duration,{x:"0%",y:"0%"}):"rotate"==e.settings.animation_type&&TweenLite.to(e.$element_inner,e.settings.animate_duration,{rotationX:0,rotationY:0})}function o(t,n){"shift"==e.settings.animation_type?TweenLite.to(e.$element_inner,e.settings.animate_duration,{x:t+"%",y:n+"%"}):"rotate"==e.settings.animation_type&&TweenLite.to(e.$element_inner,e.settings.animate_duration,{rotationX:n+"%",rotationY:-t+"%"})}}},{key:"subscribe_scroll_event",value:function(){var e=this,t=0,n=0,o=0,s=0,r=0,a=0;function u(){r=e.$element.outerHeight(),t=e.$element.offset().top,n=t+r,a=r+e.wh}function l(){e.viewport_bottom>t&&e.viewport_top<n?(e.$element.addClass("active"),o=e.viewport_bottom-t-a/2,s=o/(a/2),"shift"==e.settings.animation_type?TweenLite.to(e.$element_inner,e.settings.animate_duration,{y:e.shift*s+"%"}):"rotate"==e.settings.animation_type&&TweenLite.to(e.$element_inner,e.settings.animate_duration,{rotationX:e.shift*s+"%"})):e.$element.removeClass("active")}u(),l(),i(window).on("resize",function(){u()}),i(window).on("scroll resize",function(){l()})}}]),e}(),i.fn.parallaxBackground=function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1),n=this.length,i=void 0,r=void 0;for(i=0;i<n;i++)if("object"==(void 0===e?"undefined":s(e))||void 0===e?this[i].parallax_background=new o(this[i],e):r=this[i].parallax_background[e].apply(this[i].parallax_background,t),void 0!==r)return r;return this}}]);