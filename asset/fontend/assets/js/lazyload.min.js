!function(t,e){"object"==typeof exports?module.exports=e(t):"function"==typeof define&&define.amd?define([],e):t.LazyLoad=e(t)}("undefined"!=typeof global?global:this.window||this.global,function(t){"use strict";"function"==typeof define&&define.amd&&(t=window);const e={src:"data-src",srcset:"data-srcset",selector:".lazyload",loadedClass:"loaded",background:!1,root:null,rootMargin:"0px",threshold:0,complete:function(){}},r=function(){let t={},e=!1,s=0,o=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],s++);let i=function(s){for(let o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e&&"[object Object]"===Object.prototype.toString.call(s[o])?t[o]=r(!0,t[o],s[o]):t[o]=s[o])};for(;s<o;s++){i(arguments[s])}return t};function s(t,s){this.settings=r(e,s||{}),this.images=t||document.querySelectorAll(this.settings.selector),this.observer=null,this.init()}if(s.prototype={init:function(){if(!t.IntersectionObserver)return void this.loadImages();let e=this,r={root:this.settings.root,rootMargin:this.settings.rootMargin,threshold:[this.settings.threshold]};this.observer=new IntersectionObserver(function(t){Array.prototype.forEach.call(t,function(t){if(t.isIntersecting){e.observer.unobserve(t.target);let r=t.target.getAttribute(e.settings.src),s=t.target.getAttribute(e.settings.srcset),o=t.target.getAttribute("data-sizes");if("img"===t.target.tagName.toLowerCase())o&&(t.target.setAttribute("sizes",o),t.target.removeAttribute("data-sizes")),s?(t.target.srcset=s,t.target.removeAttribute("data-srcset")):r&&(t.target.src=r,t.target.removeAttribute("data-src"));else if("div"===t.target.tagName.toLowerCase());else if("video"===t.target.tagName.toLowerCase()){let r=t.target.querySelectorAll("source")[0],s=r.getAttribute(e.settings.src),o=t.target.getAttribute("data-poster");o&&(t.target.setAttribute("poster",o),t.target.removeAttribute("data-poster")),s&&(r.src=s)}else 1==e.settings.background?t.target.style.backgroundImage=t.target.getAttribute("data-lazy-bg"):t.target.style.backgroundImage="url("+r+")";e.settings.complete(t.target)}})},r),Array.prototype.forEach.call(this.images,function(t){e.observer.observe(t)})},loadAndDestroy:function(){this.settings&&(this.loadImages(),this.destroy())},loadImages:function(){if(!this.settings)return;let t=this;Array.prototype.forEach.call(this.images,function(e){let r=e.getAttribute(t.settings.src),s=e.getAttribute(t.settings.srcset),o=entry.target.getAttribute("data-sizes");if("img"===e.tagName.toLowerCase())o&&(e.setAttribute("sizes",o),e.removeAttribute("data-sizes")),s?(e.srcset=s,e.removeAttribute("data-srcset")):r&&(e.src=r,e.removeAttribute("data-src"));else if("video"===e.tagName.toLowerCase()){let r=e.querySelectorAll("source")[0],s=r.getAttribute(t.settings.src),o=e.getAttribute("data-poster");o&&(e.setAttribute("poster",o),e.removeAttribute("data-poster")),s&&(r.src=s)}else"div"===e.tagName.toLowerCase()||(1==t.settings.background?e.style.backgroundImage=e.getAttribute("data-lazy-pg"):e.style.backgroundImage="url('"+r+"')")}),t.settings.complete(image)},destroy:function(){this.settings&&(this.observer.disconnect(),this.settings=null)}},t.lazyload=function(t,e){return new s(t,e)},t.jQuery){const e=t.jQuery;e.fn.lazyload=function(t){return(t=t||{}).attribute=t.attribute||"data-src",new s(e.makeArray(this),t),this}}return s});